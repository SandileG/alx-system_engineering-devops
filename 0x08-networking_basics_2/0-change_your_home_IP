#!/usr/bin/env bash
# Script to configure DNS resolution on an Ubuntu server

# Check if running as root
if [ "$(id -u)" -ne 0 ]; then
    echo "Please run as root or using sudo."
    exit 1
fi

# Display usage if no arguments provided
if [ "$#" -ne 0 ]; then
    echo "Usage: $0"
    exit 1
fi

# Backup original hosts file
cp /etc/hosts /etc/hosts.bak

# Update localhost and facebook.com entries
sed -i '/^127\.0\.0\.1[[:space:]]localhost/s/$/ 127.0.0.2/' /etc/hosts
echo "8.8.8.8 facebook.com" >> /etc/hosts

# Display success message
echo "DNS configuration updated successfully."

# End of script
